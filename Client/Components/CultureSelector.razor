@using System.Globalization
@inject IJSRuntime JS
@inject NavigationManager Nav


<select @bind="Culture">
	@foreach(var culture in supportedCultures) {
		<option value="@culture">@culture.DisplayName</option>
	}
</select>


@code
{
	private CultureInfo[] supportedCultures = new[] {
		new CultureInfo("cs"),
		new CultureInfo("en"),
		new CultureInfo("de")
	};

	private CultureInfo Culture {
		get => CultureInfo.CurrentCulture;
		set {
			if(CultureInfo.CurrentCulture != value)
			{
				((IJSInProcessRuntime)JS).InvokeVoid("blazorCulture.set", value.Name);
				Nav.NavigateTo(Nav.Uri, true);
			}
		}
	}
}